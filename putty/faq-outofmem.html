<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=US-ASCII">
<title>After trying to establish an SSH-2 connection, PuTTY says &#8216;Out of memory&#8217; and dies.</title>
<link rel="previous" href="faq-colours.html">
<link rel="ToC" href="index.html">
<link rel="next" href="faq-outofmem2.html">
<link rel="stylesheet" type="text/css" href="chm.css"></head>
<body>
<h1><a name="QA.7.3"></a>A.7.3 After trying to establish an SSH-2 connection, PuTTY says &#8216;<a name="i0"></a>Out of memory&#8217; and dies.</h1>
<p>
If this happens just while the connection is starting up, this often indicates that for some reason the client and server have failed to establish a session encryption key. Somehow, they have performed calculations that should have given each of them the same key, but have ended up with different keys; so data encrypted by one and decrypted by the other looks like random garbage.
</p>
<p>
This causes an &#8216;out of memory&#8217; error because the first encrypted data PuTTY expects to see is the length of an SSH message. Normally this will be something well under 100 bytes. If the decryption has failed, PuTTY will see a completely random length in the region of two <em>gigabytes</em>, and will try to allocate enough memory to store this non-existent message. This will immediately lead to it thinking it doesn't have enough memory, and panicking.
</p>
<p>
If this happens to you, it is quite likely to still be a PuTTY bug and you should report it (although it might be a bug in your SSH server instead); but it doesn't necessarily mean you've actually run out of memory.
</p>

</body>
</html>
