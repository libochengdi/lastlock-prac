<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=US-ASCII">
<title>-nc: make a remote network connection in place of a remote shell or command</title>
<link rel="previous" href="using-cmdline-noshell.html">
<link rel="ToC" href="index.html">
<link rel="next" href="using-cmdline-compress.html">
<link rel="stylesheet" type="text/css" href="chm.css"></head>
<body>
<h1><a name="S3.11.3.14"></a>3.11.3.14 <a name="i0"></a><code>-nc</code>: make a <a name="i1"></a>remote network connection in place of a remote shell or command</h1>
<p>
The <code>-nc</code> option prevents Plink (or PuTTY) from attempting to start a shell or command on the remote server. Instead, it will instruct the remote server to open a network connection to a host name and port number specified by you, and treat that network connection as if it were the main session.
</p>
<p>
You specify a host and port as an argument to the <code>-nc</code> option, with a colon separating the host name from the port number, like this:
</p>
<pre><code>plink host1.example.com -nc host2.example.com:1234
</code></pre>
<p>
This can be useful if you're trying to make a connection to a target host which you can only reach by SSH forwarding through a proxy host. One way to do this would be to have an existing SSH connection to the proxy host, with a port forwarding, but if you prefer to have the connection started on demand as needed, then this approach can also work.
</p>
<p>
However, this does depend on the program <em>using</em> the proxy being able to run a subprocess in place of making a network connection. PuTTY itself can do this using the &#8216;Local&#8217; proxy type, but there's a built-in more flexible way using the &#8216;SSH&#8217; proxy type. (See <a href="config-proxy-type.html#S4.16.1">section 4.16.1</a> for a description of both.) So this feature is probably most useful with another client program as the end user.
</p>
<p>
This feature is only available in SSH protocol version 2 (since the version 1 protocol assumes you will always want to run a shell). It is not available in the file transfer tools PSCP and PSFTP. It is available in PuTTY itself, although it is unlikely to be very useful in any tool other than Plink. Also, <code>-nc</code> uses the same server functionality as port forwarding, so it will not work if your server administrator has disabled port forwarding.
</p>
<p>
(The option is named <code>-nc</code> after the Unix program <a href="http://www.vulnwatch.org/netcat/"><code>nc</code></a>, short for &#8216;netcat&#8217;. The command &#8216;<code>plink host1 -nc host2:port</code>&#8217; is very similar in functionality to &#8216;<code>plink host1 nc host2 port</code>&#8217;, which invokes <code>nc</code> on the server and tells it to connect to the specified destination. However, Plink's built-in <code>-nc</code> option does not depend on the <code>nc</code> program being installed on the server.)
</p>

</body>
</html>
